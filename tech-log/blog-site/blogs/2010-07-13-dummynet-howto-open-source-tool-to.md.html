<div class="css-full-post-content js-full-post-content">
<p>Any service allowing to  tweak Network Latency and Bandwidth as per desire for testing application  performance at different network latency scenarios.</p>
<p><b>Tools/Technology Used: </b> DummyNet {Home}URL: <a href="http://info.iet.unipi.it/%7Eluigi/dummynet/">http://info.iet.unipi.it/~luigi/dummynet/ </a></p>
<p><b>Background: </b> Normally the difference which comes in  development and  deployment environment of Web Applications, is of bandwidth and latency. To test the applications in actual scenario, one needs to tweak the latency as per deployment scene and then use it. There are few paid VE Technology based services like &quot;Shunra&quot; for this. But we required a free, open-source application, if possible for windows. DummyNet, it's an old Italian university project started for BSD systems, recently ported for Windows also. It helps in reducing latency of NIC to desired level.</p>
<p><b>Execution Method: </b> [] Install NDIS Driver 1.  Open the configuration panel for the network card in use   {right click on the icon on the SYSTRAY, or go to 'Control Panel' &gt; 'Network' to select} 2.  Click on 'Properties' &gt; 'Install' &gt; 'Service' &gt; 'Add' 3.  Click on 'Driver Disk' and select 'netipfw.inf' in the folder it has been extracted to. 4.  Select 'ipfw+dummynet' which should be the only service visible. 5.  Click 'Accept' on the warnings for the installation of an unknown driver.</p>
<p>Create a BAT-File for your Application to be run under test bandwidth &amp; latency with following content --------------------------------------File Content Starts  from Next line</p>
<blockquote style="font-family: &quot;Courier New&quot;,Courier,monospace;">
<p><span class="citation">@echo</span> off <span class="citation">@set</span> CYGWIN=nodosfilewarning <span class="citation">@ipfw</span> -q flush <span class="citation">@ipfw</span> -q pipe flush <span class="citation">@echo</span> ################# <span class="citation">@echo</span> ## Setting up ## <span class="citation">@echo</span> ################# ipfw pipe 3 config delay 1000ms bw 500Kbit/s mask all ipfw add pipe 3 ip from any to any ipfw pipe show</p>
<p><span class="citation">@echo</span> &quot;&quot; <span class="citation">@echo</span> &quot;Network Tweaking Done, Start Testing.&quot; <span class="citation">@echo</span> &quot;&quot; <span class="citation">@echo</span> &quot;Press Enter when testing is done, to restore original Network Settings.&quot; pause</p>
<span class="citation">@echo</span> ################# <span class="citation">@echo</span> ## Cleaning up ## <span class="citation">@echo</span> ################# ipfw -q flush ipfw -q pipe flush pause
</blockquote>
<p>--------------------------------------File Content Ends at Previous line Here, 1000ms is latency set and can be changed to desired value 500 Kbps is bandwidth set and can be changed to desired value 'delay x' and 'bw x'; both can be used separately also as per need either place a command running your application to be tested in place of 'your_command_running_your_app'; or simple remove that line  and when the command gets paused at the first pause, run your appl ication manually.  </p>
<p><b>Installation: </b> Follow the wlak-through video on Youtube at :</p>
<p><a href="http://www.youtube.com/watch?v=jP-DrxTMXDc">http://www.youtube.com/watch?v=jP-DrxTMXDc </a></p>
<p>Then, to test if it gets installed properly as a network services. It has a testme.bat file showing different tests, just run it and check statistics.</p>
<p>I tested it on Windows XP, Vista, 7... and it worked great.</p>
</div>
<div class="css-full-comments-content js-full-comments-content">
<div class="css-full-comment js-full-comment">
<div class="css-comment-user-link js-comment-user-link">
<p><a href="http://www.blogger.com/profile/09733397847307378489"></p>
<div class="css-comment-name js-comment-name">
<pre><code>freebiesutopia</code></pre>
</div>
<p></a></p>
<div class="css-comment-date js-comment-date">
<pre><code>2012-01-11T10:35:38.085Z</code></pre>
</div>
</div>
<div class="css-comment-content js-comment-content">
<pre><code>I got the following error on windows 7 32 bit. ipfw pipe show my_socket failed 5, cannot talk to kernel module ipfw: socket</code></pre>
<p>Kindly advise.</p>
</div>
<p><br/></p>
</div>
<div class="css-full-comment js-full-comment">
<div class="css-comment-user-link js-comment-user-link">
<p><a href="http://www.blogger.com/profile/15315712237241122972"></p>
<div class="css-comment-name js-comment-name">
<pre><code>shap</code></pre>
</div>
<p></a></p>
<div class="css-comment-date js-comment-date">
<pre><code>2012-02-17T02:45:58.399Z</code></pre>
</div>
</div>
<div class="css-comment-content js-comment-content">
<pre><code>Did you try this on win 7-64 bit or 32 bit? My 64 bit windows doesn;t recognise a driver after the first step</code></pre>
</div>
<p><br/></p>
</div>
<div class="css-full-comment js-full-comment">
<div class="css-comment-user-link js-comment-user-link">
<p><a href="http://www.blogger.com/profile/06276198262605731980"></p>
<div class="css-comment-name js-comment-name">
<pre><code>AbhishekKr a.k.a ~=ABK=~</code></pre>
</div>
<p></a></p>
<div class="css-comment-date js-comment-date">
<pre><code>2012-02-22T18:56:21.696Z</code></pre>
</div>
</div>
<div class="css-comment-content js-comment-content">
<pre><code>I don&amp;#39;t have a 64-bit Win7 version, can&amp;#39;t test it out on that, though I&amp;#39;ll try it on my 32-bit Win7</code></pre>
</div>
<p><br/></p>
</div>
<div class="css-full-comment js-full-comment">
<div class="css-comment-user-link js-comment-user-link">
<p><a href="http://www.blogger.com/profile/06276198262605731980"></p>
<div class="css-comment-name js-comment-name">
<pre><code>AbhishekKr a.k.a ~=ABK=~</code></pre>
</div>
<p></a></p>
<div class="css-comment-date js-comment-date">
<pre><code>2012-02-22T18:59:25.215Z</code></pre>
</div>
</div>
<div class="css-comment-content js-comment-content">
<pre><code>I&amp;#39;ll re-try it on my new updated 32-bit Win7 and be back with the solution ASAP, if its to do anything with the newer updates</code></pre>
</div>
<p><br/></p>
</div>
<div class="css-full-comment js-full-comment">
<div class="css-comment-user-link js-comment-user-link">
<p><a href="http://www.blogger.com/profile/15451017154478943176"></p>
<div class="css-comment-name js-comment-name">
<pre><code>Andrija</code></pre>
</div>
<p></a></p>
<div class="css-comment-date js-comment-date">
<pre><code>2012-05-14T19:27:53.792Z</code></pre>
</div>
</div>
<div class="css-comment-content js-comment-content">
<pre><code>Just start your cmd.exe using &amp;quot;Run as administrator&amp;quot;. In my case that solved the error message.</code></pre>
</div>
<p><br/></p>
</div>
<div class="css-full-comment js-full-comment">
<div class="css-comment-user-link js-comment-user-link">
<p><a href="http://www.blogger.com/profile/07038276901262027051"></p>
<div class="css-comment-name js-comment-name">
<pre><code>Mikros Bozos</code></pre>
</div>
<p></a></p>
<div class="css-comment-date js-comment-date">
<pre><code>2012-07-30T19:47:34.044Z</code></pre>
</div>
</div>
<div class="css-comment-content js-comment-content">
<pre><code>Hi there, thank you for the guide.</code></pre>
<p>Question #1 I would like to ask you if there is a way to not open the pipes right away put when it have to send something.</p>
<p>Question #2 Is it a great overhead to have say ... 200 pipes opened at the same time? Is there a mechanism in DummyNet to put in sleep those that are not in use?</p>
</div>
<p><br/></p>
</div>
</div>
