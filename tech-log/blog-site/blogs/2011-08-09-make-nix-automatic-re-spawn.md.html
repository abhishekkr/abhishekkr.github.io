<div class="css-full-post-content js-full-post-content">
<div dir="ltr" style="text-align: left;" trbidi="on">
<p>To make your *nix system automatic re-spawn a process/service if stopped ~</p>
<p>Write a shell script to check for presence of a service and start it if it is not running. Then attach that shell-script to a cronjob running at frequent intervals.</p>
<p>Example Script to monitor Apache HTTPD web server and start it if is not started ~</p>
<blockquote>
<p><b> <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">#!/bin/sh </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">pids_=<code>ps ax | grep /usr/sbin/httpd | grep -v grep | wc -l</code> </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if [ $pids_ -ne 0 ]; </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">then </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">     echo &quot;Apache is running&quot; </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">else </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">     echo &quot;Apache was stopped. Starting...&quot; </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">     apache_start_=<code>/etc/init.d/httpd start</code> </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">     if [ $? -eq 0 ]; </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">     then </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">         echo &quot;Apache Started Successfully&quot; </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">     fi </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<p><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">fi </span> <br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></p>
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">############################# </span> </b>
</blockquote>
<p> this simply checks for HTTPD process to be present and re-spawn the service in absence of even a single process thread.</p>
<p>There is a wonderful Ruby utility &quot; <b> <a href="http://www.blogger.com/">bluepill </a> </b>&quot; to achieve the same solution in a more advanced and comfortable manner. Cover it sooooon.....</p>
</div>
</div>
